import { Address, TypedMap } from '@graphprotocol/graph-ts';

export let PermitRoutersByPool = new TypedMap<Address, Address>();
{{#each pools}}
{{#ifAddress permitRouter}}
PermitRoutersByPool.set(Address.fromString('{{address}}'), Address.fromString('{{permitRouter}}'));
{{/ifAddress}}
{{/each}}

export let FarmingHelpersByPool = new TypedMap<Address, Address>();
{{#each pools}}
{{#ifAddress farmingHelper}}
FarmingHelpersByPool.set(Address.fromString('{{address}}'), Address.fromString('{{farmingHelper}}'));
{{/ifAddress}}
{{/each}}

export let ClipperFeeSplitAddressesByPool = new TypedMap<Address, Array<Address>>();
{{#each pools}}
let feeSplitsForPool{{@index}} = new Array<Address>();
{{#ifAddress feeSplit}}
feeSplitsForPool{{@index}}.push(Address.fromString('{{feeSplit}}'));
{{/ifAddress}}
{{#ifAddress farmFeeSplit}}
feeSplitsForPool{{@index}}.push(Address.fromString('{{farmFeeSplit}}'));
{{/ifAddress}}
ClipperFeeSplitAddressesByPool.set(Address.fromString('{{address}}'), feeSplitsForPool{{@index}});
{{/each}}


export let FallbackAssetPrice = new TypedMap<Address, string>()
{{#each fallbackPrices}}
FallbackAssetPrice.set(Address.fromString('{{@key}}'), '{{this}}')
{{/each}}

// Add daily fallback prices
export let DailyFallbackPrices = new TypedMap<Address, TypedMap<string, string>>()
{{#each dailyFallbackPrices}}
let prices_{{@key}} = new TypedMap<string, string>()
{{#each this}}
prices_{{tokenAddress}}.set('{{timestamp}}', '{{price}}')
{{/each}}
DailyFallbackPrices.set(Address.fromString('{{@key}}'), prices_{{@key}})
{{/each}}

export let AddressZeroSymbol = '{{addressZeroMap.symbol}}'
export let AddressZeroAddress = '{{addressZeroMap.address}}'
export let AddressZeroDecimals = '{{addressZeroMap.decimals}}'
export let AddressZeroName = '{{addressZeroMap.name}}'
